



<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="一位Blog" href="http://adamshang2333.github.io/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="一位Blog" href="http://adamshang2333.github.io/atom.xml" />
<link rel="alternate" type="application/json" title="一位Blog" href="http://adamshang2333.github.io/feed.json" />

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/css/app.css?v=0.2.5">

  

<link rel="canonical" href="http://adamshang2333.github.io/hou-duan/java/jdbc/">



  <title>
JDBC |
bit Blog = 一位 Blog = bit =>byte KB MB GB TB ... 积跬步而行千里</title>
<meta name="generator" content="Hexo 5.3.0"></head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">JDBC
  </h1>
  
<div class="meta">
  <span class="item" title="创建时间：2023-03-12 18:52:05">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">发表于</span>
    <time itemprop="dateCreated datePublished" datetime="2023-03-12T18:52:05+08:00">2023-03-12</time>
  </span>
  <span class="item" title="本文字数">
    <span class="icon">
      <i class="ic i-pen"></i>
    </span>
    <span class="text">本文字数</span>
    <span>5.6k</span>
    <span class="text">字</span>
  </span>
  <span class="item" title="阅读时长">
    <span class="icon">
      <i class="ic i-clock"></i>
    </span>
    <span class="text">阅读时长</span>
    <span>5 分钟</span>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="切换导航栏">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/" rel="start">bit Blog</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
        <ul>
          <li class="item" data-background-image="https://gitee.com/oldFun/picGitee/raw/master/img/wallhaven-j575jw.jpg"></li>
          <li class="item" data-background-image="https://gitee.com/oldFun/picGitee/raw/master/img/wallhaven-pk35x9.png"></li>
          <li class="item" data-background-image="https://gitee.com/oldFun/picGitee/raw/master/img/wallhaven-y88q3g.jpg"></li>
          <li class="item" data-background-image="https://gitee.com/oldFun/picGitee/raw/master/img/wallhaven-k79lqq.jpg"></li>
          <li class="item" data-background-image="https://gitee.com/oldFun/picGitee/raw/master/img/wallhaven-wqqqdp.jpg"></li>
          <li class="item" data-background-image="https://gitee.com/oldFun/picGitee/raw/master/img/wallhaven-v9g5x5.png"></li>
        </ul>
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main>
      <div class="inner">
        <div id="main" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/">首页</a></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN">
  <link itemprop="mainEntityOfPage" href="http://adamshang2333.github.io/hou-duan/java/jdbc/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/images/%E5%90%90%E8%88%8C.jpeg">
    <meta itemprop="name" content="别人都叫我老范">
    <meta itemprop="description" content="bit =>byte KB MB GB TB ... 积跬步而行千里, <div style='font-size: 0.8em;'> I.is (null); <br/>If (U.appear ()) <br/>I.turn (new World ('Fill With Love')) <br/>// 我的世界 <br/>// 直至遇见你 <br/>// 才熠熠生辉 </div> ">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="一位 Blog">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <blockquote>
<p>全称: Java DataBase Connectivity<br />
 是 java 语言中，用来规范客户端程序如何来访问数据库的 API (应用程序接口)</p>
</blockquote>
<p><code>!!JDBC比框架的效率高</code></p>
<h2 id="准备工具"><a class="anchor" href="#准备工具">#</a> 准备工具</h2>
<p>JDBC 需要导入 jar 包  ---&gt;  mysql-connector-java-5.1.47.jar</p>
<h2 id="操作步骤-增删改"><a class="anchor" href="#操作步骤-增删改">#</a> 操作步骤 -- 增，删，改</h2>
<blockquote>
<p>以下将一个完整的 JDBC<strong> 添加</strong>过程拆解成若干步骤</p>
</blockquote>
<h3 id="1准备数据库账户及链接地址"><a class="anchor" href="#1准备数据库账户及链接地址">#</a> 1. 准备数据库账户及链接地址</h3>
<pre><code> public void jdbc() &#123;
	// 添加 ?useSSL=false (false或者true都可以 ,目的是取消控制台的报红--&gt;规定是否使用SSL)
	// 设置成静态的类属性,不用实例化一个对象就能使用
	private static final String URL = &quot;jdbc:mysql://localhost:3306/db0503?useSSL=false&quot;;
    private static final String DRIVER = &quot;com.mysql.jdbc.Driver&quot;;
    private static final String USERNAME = &quot;root&quot;;
    private static final String PASSWORD = &quot;123456&quot;;
</code></pre>
<h3 id="2加载驱动"><a class="anchor" href="#2加载驱动">#</a> 2. 加载驱动</h3>
<pre><code>      Connection conn = null;
      PreparedStatement stmt = null;
      try &#123;
            // Class: jar包中封装好的类
            Class.forName(DRIVER);
</code></pre>
<h3 id="3建立数据库链接"><a class="anchor" href="#3建立数据库链接">#</a> 3. 建立数据库链接</h3>
<pre><code> 	conn = DriverManager.getConnection(URL, USERNAME, PASSWORD);
</code></pre>
<h3 id="4准备sql语句"><a class="anchor" href="#4准备sql语句">#</a> 4. 准备 SQL 语句</h3>
<blockquote>
<p>准备 SQL 语句的时候，注意防止 SQL 语句注入<br />
 SQL 注入 :   ---&gt; 强行进行账户的免密登录等<br />
利用字符串的拼接，将传入的字符串改为 SQL 语句<br />
以达到能够强行更改 SQL 的操作；结束 SQL 后面的语句执行</p>
</blockquote>
<pre><code>stmt = conn.prepareStatement(&quot;insert into student(name, age, gender) values (?,?,?)&quot;); 
	// 使用这种方式向sql中填值
	// 不论这个数据有多复杂, 都会被安全填入数据库(将特殊符号等转义掉) 
	// 1,2,3对应第1个name 第2个age 第3个gender
 	   stmt.setString(1, &quot;大光&quot;);
       stmt.setInt(2, 30);
       stmt.setString(3, &quot;男&quot;);
</code></pre>
<blockquote>
<p>对于增删改，不需要像查询一样创建结果集将结果返回获取<br />
只是在准备 SQL 语句的时候有不同<br />
实际的数据库操作中，基本不会涉及到数据库中数据的删除</p>
</blockquote>
<p><code>改的SQL语句示例:</code></p>
<pre><code> stmt = conn.prepareStatement(&quot;update student set age=? ,gender=?,name=? where name=?&quot;);
            stmt.setInt(1,38);
            stmt.setString(2,&quot;女&quot;);
            stmt.setString(3,&quot;大刚&quot;);
            stmt.setString(4,&quot;宋浩&quot;);
</code></pre>
<h3 id="5执行sql语句"><a class="anchor" href="#5执行sql语句">#</a> 5. 执行 SQL 语句</h3>
<blockquote>
<p>返回一个 int 值；<br />
 代表了该语句影响了几行数据 (0 表示未对表做任何改动)</p>
</blockquote>
<pre><code>  int i = stmt.executeUpdate();
   &#125; catch (ClassNotFoundException e) &#123;
            e.printStackTrace();
        &#125; catch (SQLException e) &#123;
            e.printStackTrace();
</code></pre>
<h3 id="6关闭数据库链接"><a class="anchor" href="#6关闭数据库链接">#</a> 6. 关闭数据库链接</h3>
<blockquote>
<p>关闭链接，准备的 SQL 语句才会开始执行</p>
</blockquote>
<pre><code> &#125; catch (ClassNotFoundException e) &#123;
            e.printStackTrace();
        &#125; catch (SQLException e) &#123;
            e.printStackTrace();
        &#125; finally &#123;
        // 注意: 必须放入finally中,确保一定会关掉
            try &#123;
                if (stmt != null) &#123;
                // 关闭准备语句
                    stmt.close();
                &#125;
            &#125; catch (SQLException e) &#123;
                e.printStackTrace();
            &#125;
            try &#123;
                if (conn != null) &#123;
                // 关闭数据库链接
                    conn.close();
                &#125;
            &#125; catch (SQLException e) &#123;
                e.printStackTrace();
            &#125;

</code></pre>
<h2 id="操作步骤-查"><a class="anchor" href="#操作步骤-查">#</a> 操作步骤 -- 查</h2>
<blockquote>
<p>数据的查询操作，前期的账户准备和链接建立都一样，<br />
 主要的不同在于:<br />
 需要在查询后<strong>创建一个 JDBC 结果集 (.executeQuery ()</strong>);<br />
 在准备阶段也要 ** 创建一个结果接收容器 (List)** 用于接收结果集中的数据</p>
</blockquote>
<h3 id="1接收容器声明"><a class="anchor" href="#1接收容器声明">#</a> 1. 接收容器声明</h3>
<pre><code> List&lt;Student&gt; studentList =new ArrayList&lt;&gt;();

</code></pre>
<h3 id="2建立链接查询语句准备结果集准备"><a class="anchor" href="#2建立链接查询语句准备结果集准备">#</a> 2. 建立链接，查询语句准备，结果集准备</h3>
<pre><code>		// 声明 链接
		Connection coon=null;
		// 声明 准备语句
        PreparedStatement stmt=null;
        // 声明 结果集 
        ResultSet rs=null;
         try &#123;
            // 加载驱动 
            Class.forName(DRIVER);
            coon = DriverManager.getConnection(URL, USERNAME, PASSWORD);
            stmt = coon.prepareStatement(&quot;select * from student where age &gt; ?&quot;);
            stmt.setInt(1,15);
</code></pre>
<h3 id="3查询-将结果集中的数据遍历添加到接受容器"><a class="anchor" href="#3查询-将结果集中的数据遍历添加到接受容器">#</a> 3. 查询，将结果集中的数据遍历添加到接受容器</h3>
<pre><code> 		rs = stmt.executeQuery();
 		            // 对结果集进行遍历 .next方法
 		            // --&gt; 类似 迭代器的.hasNext (确认是否还有值,返回布尔值)
             while ( rs.next())&#123;
                 // 按列名取值
                 int sid = rs.getInt(&quot;sid&quot;);
                 String name = rs.getString(&quot;name&quot;);
                 // 也可以按照列的序号取值
                 int age = rs.getInt(3);
                 String gender = rs.getString(4);
                 System.out.println(sid +&quot;:&quot;+name+&quot;年龄:&quot;+age+&quot;性别:&quot;+gender);

                 // 每次循环都创建一个新的student对象
                 Student stu = new Student();
                 stu.setSid(sid);
                 stu.setAge(age);
                 stu.setName(name);
                 stu.setGender(gender);

                 // 将创建出来的学生对象添加到接受容器(list)中
                 studentList.add(stu);
             &#125;
</code></pre>
<h3 id="4关闭链接注意结果集也要关闭"><a class="anchor" href="#4关闭链接注意结果集也要关闭">#</a> 4. 关闭链接 (<span class="spoiler" title="你知道得太多了">注意结果集也要关闭</span>！)</h3>
<blockquote>
<p>关闭：链接；准备语句；结果集<br />
关闭顺序：后开的先关；先开的后关</p>
</blockquote>
<pre><code>finally &#123;
            try &#123;
                if (rs != null) &#123;
                  // 关闭结果集
                    rs.close();
                &#125;
            &#125; catch (SQLException e) &#123;
                e.printStackTrace();
            &#125;

            try &#123;
                if (stmt != null) &#123;
                  // 关闭SQL语句 
                    stmt.close();
                &#125;
            &#125; catch (SQLException e) &#123;
                e.printStackTrace();
            &#125;
            try &#123;
                if (coon != null) &#123;
                // 关闭数据库链接
                    coon.close();
                &#125;
            &#125; catch (SQLException e) &#123;
                e.printStackTrace();
            &#125;
</code></pre>
<h2 id="jdbc优化-代码封装"><a class="anchor" href="#jdbc优化-代码封装">#</a> JDBC 优化 -- 代码封装</h2>
<blockquote>
<p>上述的 JDBC 操作有很多的重复地方，<br />
 可以使用封装来提升代码的复用性<br />
例如:</p>
<ol>
<li>每次的建立链接和关闭代码都是固定的</li>
<li>对于增，删，改而言，最大的不同就是准备的 SQL 语句有所不同</li>
<li>查询的语句虽然不同，<br />
　但是遍历结果集，传入接收容器的过程都是一样的</li>
</ol>
</blockquote>
<h3 id="准备工作"><a class="anchor" href="#准备工作">#</a> 准备工作</h3>
<pre><code>public class DBUtil &#123;
    private static final String DRIVE = &quot;com.mysql.jdbc.Driver&quot;;
    private static final String URL = &quot;jdbc:mysql://localhost:3306/db0503?useSSL=true&quot;;
    private static final String USER = &quot;root&quot;;
    private static final String PASSWORD = &quot;123456&quot;;
</code></pre>
<h3 id="封装-建立链接"><a class="anchor" href="#封装-建立链接">#</a> 封装 -- 建立链接</h3>
<blockquote>
<p>建立连接这种纯粹的功能实现，不需要创建对象<br />
使用静态方法比较好；对象在有存储不同值的场景使用更好</p>
</blockquote>
<p><code>!!!对于有异常处理的情况, 如果有返回值,**注意在try里面和外面都要写return!!!**</code></p>
<pre><code>// 返回Connection , 在其他的方法中关闭时使用
public static Connection getConnection() &#123;
        Connection conn=null;
        try &#123;
            Class.forName(DRIVE);
            conn = DriverManager.getConnection(URL, USER, PASSWORD);
		    // 返回链接 --确保无论如何都会返回
            return conn;
        &#125; catch (SQLException | ClassNotFoundException e) &#123;
            e.printStackTrace();
        &#125;
        // 返回链接 --确保无论如何都会返回
        return conn;
    &#125;
</code></pre>
<h3 id="封装-关闭链接"><a class="anchor" href="#封装-关闭链接">#</a> 封装 -- 关闭链接</h3>
<blockquote>
<p>关闭链接时，要考虑是否有查询的情况:<br />
 如果有查询，则亦需要关闭开启的结果集<br />
　－－＞通过 <strong>重载</strong> 来实现方法的适应性</p>
</blockquote>
<pre><code>
 public static void closeAll(Connection conn, PreparedStatement preStmt) &#123;
        try &#123;
            if (preStmt != null) &#123;
                preStmt.close();
            &#125;
        &#125; catch (SQLException e) &#123;
            e.printStackTrace();
        &#125;
        try &#123;
            if (conn != null) &#123;
                conn.close();
            &#125;
        &#125; catch (SQLException e) &#123;
            e.printStackTrace();
        &#125;

    &#125;
    
    
     /**
     * 适用于数据库查询的连接关闭方法
     * @param conn    jdbc连接对象
     * @param preStmt jdbcSQL语句处理对象
     * @param rs      jdbc查询结果集对象
     */
    // 重载 适用于查询中调用
    public static void closeAll(Connection conn, PreparedStatement preStmt, ResultSet rs) &#123;
        try &#123;
      	  // 关闭额外开启的结果集
            rs.close();
        &#125; catch (SQLException e) &#123;
            e.printStackTrace();
        &#125;
        // 在重载中调用同名的两个参数的方法
        closeAll(conn, preStmt);
    &#125;
</code></pre>
<h3 id="封装-数据库查询"><a class="anchor" href="#封装-数据库查询">#</a> 封装 -- 数据库查询</h3>
<blockquote>
<p>数据库的查询封装，需要考虑到 SQL 语句的适应性:<br />
SQL 语句的查询条件需要的<strong>传入参数 长度和类型都不确定</strong><br />
　－－＞解决：使用 <strong>Object... a</strong> 不定长参数 (系统自带)<br />
 不定长参数写法:<br />
 在参数列表中的最后一个位置，<br />
 以<strong>类型... 参数名</strong> (三个 &quot;.&quot; , 且与参数名之间<strong>有空格</strong>)<br />
 在方法中以数组的形式存在</p>
</blockquote>
<pre><code>public static int updateSQL(String sql, Object... a) &#123;
        Connection conn = null;
        PreparedStatement preStmt = null;
        try &#123;
            conn = getConnection();
            preStmt = conn.prepareStatement(sql);
//            preStmt.setString(1, &quot;娃哦ED&quot;);
//            preStmt.setInt(2, 18);
//            preStmt.setString(3, &quot;男&quot;);
            //
            // 优化: 利用不定长参数 遍历参数a的数组
            for (int i = 0; i &lt; a.length; i++) &#123;
                Object o = a[i];
                preStmt.setObject(i + 1, o);
            &#125;

            int result = preStmt.executeUpdate();
            return result;
        &#125; catch (SQLException e) &#123;
            e.printStackTrace();
        &#125; finally &#123;
            DBUtil.closeAll(conn, preStmt);
        &#125;
        // 如果未执行try内代码 则执行return 0
        return 0;
    &#125;
</code></pre>
<h2 id="commons-dbutils"><a class="anchor" href="#commons-dbutils">#</a> Commons-DButils</h2>
<blockquote>
<p>阿帕奇组织专门封装的 JDBC 工具</p>
</blockquote>
<p>订单<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p>
<hr class="footnotes-sep" />
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>这里是说明的开始，顾城，童话诗人，以及坏掉了的人。 <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>

  </div>

   <footer>

    <div class="meta">
  <span id="hou-duan/java/jdbc/" class="item leancloud_visitors" data-flag-title="JDBC" title="阅读次数">
      <span class="icon">
        <i class="ic i-eye"></i>
      </span>
      <span class="text">阅读次数</span>
      <span class="leancloud-visitors-count"></span>
      <span class="text">次</span>
  </span>
</div>

      
<div class="reward">
  <button><i class="ic i-heartbeat"></i> 赞赏</button>
  <p>请我喝[茶]~(￣▽￣)~*</p>
  <div id="qr">
      
      <div>
        <img data-src="/images/wechatpay.png" alt="别人都叫我老范 微信支付">
        <p>微信支付</p>
      </div>
      
      <div>
        <img data-src="/images/alipay.png" alt="别人都叫我老范 支付宝">
        <p>支付宝</p>
      </div>
      
      <div>
        <img data-src="/images/paypal.png" alt="别人都叫我老范 贝宝">
        <p>贝宝</p>
      </div>
  </div>
</div>

      

<div id="copyright">
<ul>
  <li class="author">
    <strong>本文作者： </strong>别人都叫我老范 <i class="ic i-at"><em>@</em></i>一位 Blog
  </li>
  <li class="link">
    <strong>本文链接：</strong>
    <a href="http://adamshang2333.github.io/hou-duan/java/jdbc/" title="JDBC">http://adamshang2333.github.io/hou-duan/java/jdbc/</a>
  </li>
  <li class="license">
    <strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

  </footer>

</article>

  </div>
  

<div class="post-nav">
    <div class="item left">
      

  <a href="/qian-duan/js-h5/ding-wei/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;gitee.com&#x2F;oldFun&#x2F;picGitee&#x2F;raw&#x2F;master&#x2F;img&#x2F;wallhaven-ym1jpg.jpg" title="CSS-定位">
  <span class="type">上一篇</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>CSS-定位</h3>
  </a>

    </div>
    <div class="item right">
      

  <a href="/hou-duan/java/java-collection/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;gitee.com&#x2F;oldFun&#x2F;picGitee&#x2F;raw&#x2F;master&#x2F;img&#x2F;wallhaven-g8oepq.jpg" title="Java collection">
  <span class="type">下一篇</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>Java collection</h3>
  </a>

    </div>
</div>

  
  <div class="wrap" id="comments"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="文章目录">
          <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E5%85%B7"><span class="toc-number">1.</span> <span class="toc-text"> 准备工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-%E5%A2%9E%E5%88%A0%E6%94%B9"><span class="toc-number">2.</span> <span class="toc-text"> 操作步骤 -- 增，删，改</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E5%87%86%E5%A4%87%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B4%A6%E6%88%B7%E5%8F%8A%E9%93%BE%E6%8E%A5%E5%9C%B0%E5%9D%80"><span class="toc-number">2.1.</span> <span class="toc-text"> 1. 准备数据库账户及链接地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E5%8A%A0%E8%BD%BD%E9%A9%B1%E5%8A%A8"><span class="toc-number">2.2.</span> <span class="toc-text"> 2. 加载驱动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E5%BB%BA%E7%AB%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E9%93%BE%E6%8E%A5"><span class="toc-number">2.3.</span> <span class="toc-text"> 3. 建立数据库链接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E5%87%86%E5%A4%87sql%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.4.</span> <span class="toc-text"> 4. 准备 SQL 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E6%89%A7%E8%A1%8Csql%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.5.</span> <span class="toc-text"> 5. 执行 SQL 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E5%85%B3%E9%97%AD%E6%95%B0%E6%8D%AE%E5%BA%93%E9%93%BE%E6%8E%A5"><span class="toc-number">2.6.</span> <span class="toc-text"> 6. 关闭数据库链接</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4-%E6%9F%A5"><span class="toc-number">3.</span> <span class="toc-text"> 操作步骤 -- 查</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E6%8E%A5%E6%94%B6%E5%AE%B9%E5%99%A8%E5%A3%B0%E6%98%8E"><span class="toc-number">3.1.</span> <span class="toc-text"> 1. 接收容器声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E5%BB%BA%E7%AB%8B%E9%93%BE%E6%8E%A5%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%E5%87%86%E5%A4%87%E7%BB%93%E6%9E%9C%E9%9B%86%E5%87%86%E5%A4%87"><span class="toc-number">3.2.</span> <span class="toc-text"> 2. 建立链接，查询语句准备，结果集准备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E6%9F%A5%E8%AF%A2-%E5%B0%86%E7%BB%93%E6%9E%9C%E9%9B%86%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E9%81%8D%E5%8E%86%E6%B7%BB%E5%8A%A0%E5%88%B0%E6%8E%A5%E5%8F%97%E5%AE%B9%E5%99%A8"><span class="toc-number">3.3.</span> <span class="toc-text"> 3. 查询，将结果集中的数据遍历添加到接受容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E5%85%B3%E9%97%AD%E9%93%BE%E6%8E%A5%E6%B3%A8%E6%84%8F%E7%BB%93%E6%9E%9C%E9%9B%86%E4%B9%9F%E8%A6%81%E5%85%B3%E9%97%AD"><span class="toc-number">3.4.</span> <span class="toc-text"> 4. 关闭链接 (注意结果集也要关闭！)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#jdbc%E4%BC%98%E5%8C%96-%E4%BB%A3%E7%A0%81%E5%B0%81%E8%A3%85"><span class="toc-number">4.</span> <span class="toc-text"> JDBC 优化 -- 代码封装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="toc-number">4.1.</span> <span class="toc-text"> 准备工作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85-%E5%BB%BA%E7%AB%8B%E9%93%BE%E6%8E%A5"><span class="toc-number">4.2.</span> <span class="toc-text"> 封装 -- 建立链接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85-%E5%85%B3%E9%97%AD%E9%93%BE%E6%8E%A5"><span class="toc-number">4.3.</span> <span class="toc-text"> 封装 -- 关闭链接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9F%A5%E8%AF%A2"><span class="toc-number">4.4.</span> <span class="toc-text"> 封装 -- 数据库查询</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#commons-dbutils"><span class="toc-number">5.</span> <span class="toc-text"> Commons-DButils</span></a></li></ol>
      </div>
      <div class="related panel pjax" data-title="系列文章">
      </div>
      <div class="overview panel" data-title="站点概览">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="别人都叫我老范"
      data-src="/images/%E5%90%90%E8%88%8C.jpeg">
  <p class="name" itemprop="name">别人都叫我老范</p>
  <div class="description" itemprop="description"><div style='font-size: 0.8em;'> I.is (null); <br/>If (U.appear ()) <br/>I.turn (new World ('Fill With Love')) <br/>// 我的世界 <br/>// 直至遇见你 <br/>// 才熠熠生辉 </div> </div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/archives/">
        <span class="count">44</span>
        <span class="name">文章</span>
      </a>
    </div>
    <div class="item categories">
      <a href="/categories/">
        <span class="count">17</span>
        <span class="name">分类</span>
      </a>
    </div>
    <div class="item tags">
      <a href="/tags/">
        <span class="count">14</span>
        <span class="name">标签</span>
      </a>
    </div>
</nav>

<div class="social">
      <span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL093bGNpdHkyMzMz" title="https:&#x2F;&#x2F;github.com&#x2F;Owlcity2333"><i class="ic i-github"></i></span>
      <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTI1MTg0NjMxMw==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;251846313"><i class="ic i-cloud-music"></i></span>
      <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;yourname"><i class="ic i-zhihu"></i></span>
      <span class="exturl item weixin" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTI1MTg0NjMxMw==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;251846313"><i class="ic i-weixin"></i></span>
      <span class="exturl item email" data-url="bWFpbHRvOjc1OTU0NzkxNkBxcS5jb20=" title="mailto:759547916@qq.com"><i class="ic i-envelope"></i></span>
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/" rel="section"><i class="ic i-home"></i>首页</a>
  </li>

    
  <li class="item">
    <a href="/about/" rel="section"><i class="ic i-user"></i>关于</a>
  </li>

        
  <li class="item dropdown">
      <a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a>
    <ul class="submenu">

        
  <li class="item">
    <a href="/archives/" rel="section"><i class="ic i-list-alt"></i>文章</a>
  </li>

        
  <li class="item">
    <a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a>
  </li>

        
  <li class="item">
    <a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a>
  </li>

  </ul>

</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
        <a href="/qian-duan/js-h5/ding-wei/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a>
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
        <a href="/hou-duan/java/java-collection/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a>
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          
<div class="rpost pjax">
  <h2>随机文章</h2>
  <ul>
      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/hou-duan/docker/docker-ru-men/" title="Docker入门 2333">Docker入门 2333</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/hou-duan/spring/spring-yu-springmvc-de-guan-xi/" title="Spring&amp;&amp;SpringMVC">Spring&&SpringMVC</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/hou-duan/java/javaweb-ji-chu/" title="JavaWeb基础">JavaWeb基础</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/CI-CD/" title="分类于 CI/CD">CI/CD</a>
</div>

    <span><a href="/hou-duan/ci-cd/ce-shi-jenkins/" title="测试Jenkins">测试Jenkins</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/hou-duan/java/java-mian-xiang-dui-xiang/" title="Java面向对象">Java面向对象</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/java/" title="分类于 java">java</a>
<i class="ic i-angle-right"></i>
<a href="/categories/java/spring/" title="分类于 spring">spring</a>
</div>

    <span><a href="/cai-keng-hui-zong/springaop-cai-keng/" title="Spring AOP踩坑">Spring AOP踩坑</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/qian-duan/js-h5/css-dong-tai-xiao-guo/" title="css动态效果总结">css动态效果总结</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/spring/" title="分类于 spring">spring</a>
<i class="ic i-angle-right"></i>
<a href="/categories/spring/%E6%80%BB%E7%BB%93/" title="分类于 总结">总结</a>
</div>

    <span><a href="/hou-duan/spring/springmvc-yuan-ma-qian-xi/" title="SpringMvc 源码浅析">SpringMvc 源码浅析</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/hou-duan/zhong-jian-jian/redis/" title="redis基础">redis基础</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/hou-duan/bing-fa-fen-bu-shi/redis-gao-bing-fa-fen-bu-shi-suo/" title="Redis高并发分布式锁">Redis高并发分布式锁</a></span>
  </li>

  </ul>
</div>
<div>
  <h2>最新评论</h2>
  <ul class="leancloud-recent-comment"></ul>
</div>

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 2010 – 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">别人都叫我老范 @ bit Blog</span>
  </div>
  <div class="count">
    <span class="post-meta-item-icon">
      <i class="ic i-chart-area"></i>
    </span>
    <span title="站点总字数">311k 字</span>

    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="ic i-coffee"></i>
    </span>
    <span title="站点阅读时长">4:43</span>
  </div>
  <div class="powered-by">
    基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: 'hou-duan/java/jdbc/',
    favicon: {
      show: "(^_^) 呦吼~",
      hide: "(´Д｀)哪去了?"
    },
    search : {
      placeholder: "文章搜索",
      empty: "关于 「 ${query} 」，什么也没搜到",
      stats: "${time} ms 内找到 ${hits} 条结果"
    },
    valine: true,fancybox: true,copyright: '复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return new RegExp(LOCAL.path+"$").test(uri);
      }
    ]
  };
</script>

<script src="https://cdn.polyfill.io/v2/polyfill.js"></script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script>

<script src="/js/app.js?v=0.2.5"></script>




<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"superSample":2,"width":180,"height":360,"position":"right","hOffset":-20,"vOffset":-15},"log":false,"tagMode":false});</script></body>
</html>
